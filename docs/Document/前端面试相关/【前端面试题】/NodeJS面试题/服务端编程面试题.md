# 服务端编程面试题

## 什么是长链接？它的作用、用法和使用场景？

在 JavaScript 中，长链接(也称为持久连接、keep-alive 连接或连接保持)是一种通信机制，它允许客户端和服务器在一个连接上发送多个请求和响应，而无需为每个请求/响应对创建新的连接。这种机制显著降低了服务器的负载，提高了资源的使用率。

**作用**：

1. **`性能提升`**：通过复用同一个连接，长链接减少了频繁建立和关闭连接的开销，从而提高了应用的性能。
2. **`实时性增强`**：长链接适用于需要实时数据更新的场景，因为它允许服务器主动推送数据到客户端，无需客户端频繁轮询。
3. **`资源节约`**：由于减少了连接建立和断开的次数，长链接也节约了网络资源。

**用法**：

在 JavaScript 中，你可以通过以下方式使用长链接：

1. **`使用XMLHttpRequest或Fetch API`**：这两个 API 在发送 HTTP 请求时默认使用长连接。当使用它们时，你无需额外配置即可享受长链接带来的好处。
2. **`WebSocket`**：WebSocket 是另一种实现长链接的方式。它提供了一个全双工的通信通道，允许服务器和客户端之间实时地交换数据。
3. **`Server-Sent Events (SSE)`**：SSE 是一种轻量级的、单向的长链接技术。它允许服务器向客户端推送事件流，通常用于实时更新或通知。

**使用场景**：

1. **`实时通信应用`**：如在线聊天室、即时消息应用等，需要实时传输文本、图片、音频和视频等信息。
2. **`实时数据更新`**：如股票价格、天气预报、新闻推送等需要实时更新的应用。
3. **`协作工具`**：如在线文档编辑、实时协作工具等，需要多个用户实时共享和编辑数据。
4. **`游戏`**：在线多人游戏通常需要实时通信来同步玩家状态、位置和其他游戏数据。

需要注意的是，虽然长链接带来了很多好处，但在某些场景下可能并不适用。例如，对于请求频率较低或数据量较小的应用，使用短连接可能更为合适。此外，长链接也需要额外的管理，以确保连接的稳定性和安全性。因此，在选择使用长链接还是短连接时，需要根据具体的应用需求和场景进行权衡。

## 在 javascript 中什么是短链接，优缺点是什么，应用场景和长链接有什么区别，怎么相互转换?

在 JavaScript 的上下文中，短链接通常不是指某种特定的网络连接方式，而是指网址或 URI(统一资源标识符)的缩短版本。这些短链接通常由一些专门的 URL 缩短服务生成，比如 bit.ly, tinyurl 等，或者是应用程序内部实现的短 URL 生成逻辑。它们被设计用来将长 URL 转换为更简洁、更易于分享或嵌入的格式。

**短链接的优点**

1. **`长度简短`**：易于分享、打印和记忆。
2. **`美观`**：在一些界面上，短链接可能看起来更整洁。
3. **`隐藏原始URL`**：可以用于隐藏原始 URL 的复杂性或敏感信息。
4. **`统计和跟踪`**：一些 URL 缩短服务提供了点击统计和跟踪功能，可以帮助分析用户行为。

**短链接的缺点**

1. **`可靠性问题`**：如果缩短服务关闭或不可用，链接可能会失效。
2. **`跳转延迟`**：用户点击短链接后，需要经过一次或多次重定向才能到达目标页面，可能会产生延迟。
3. **`安全风险`**：有时短链接可能被用于恶意目的，如钓鱼攻击或传播恶意软件。

**应用场景**

1. **`社交媒体分享`**：在 Twitter 等字符限制严格的平台上，短链接非常有用。
2. **`移动应用`**：在有限的界面空间内，短链接更容易显示。
3. **`电子邮件营销`**：为了保持邮件的整洁和避免被标记为垃圾邮件，可以使用短链接。
4. **`广告和推广`**：用于跟踪广告点击和效果。

**长链接与短链接的区别**

`长链接`是指完整的、原始的 URL，它通常较长且包含了目标资源的所有必要信息。

`短链接`则是这个长链接的缩短版本。

两者主要区别在于`长度和外观`，但更重要的是，长链接通常直接指向`目标资源`，而短链接则需要经过`一次`或`多次重定`向才能到达目标。

**相互转换**

**长链接转短链接**：

1. **`使用URL缩短服务`**：注册并登录到一个 URL 缩短服务(如 bit.ly)，然后输入你想要缩短的长链接，服务会为你生成一个短链接。
2. **`自定义短链接`**：一些服务允许你自定义短链接的后缀部分，以便更好地与你的品牌或内容匹配。
3. **`程序生成`**：你也可以自己编写代码，通过一定的算法将长链接转换为短链接。这通常涉及到哈希函数和数据库存储。

**短链接转长链接**：

1. **`直接访问`**：在浏览器中直接访问短链接，浏览器会自动跟随重定向并最终到达长链接指向的目标页面。
2. **`API查询`**：如果你使用的是某个特定的 URL 缩短服务，并且该服务提供了 API，你可以通过 API 查询短链接对应的长链接。
3. **`解析重定向`**：你也可以编写代码来模拟浏览器的行为，通过解析短链接的重定向链来找到最终的长链接。

需要注意的是，由于重定向和额外的解析步骤，使用短链接可能会稍微增加一些网络延迟和复杂性。因此，在不需要缩短链接的情况下，直接使用长链接通常是更好的选择。



## WEB 应用从服务器主动推送 Data 到客户端有哪些方式？

1. **`轮询(Polling)`**：客户端定期向服务器发送请求，检查是否有新的数据可用。这实际上并不是服务器端主动推送数据，而是客户端主动查询。轮询方式简单但效率低下，因为服务器可能在大部分时间里都没有新的数据，但客户端仍然需要不断地发送请求。
2. **`长轮询(Long Polling)`**：客户端向服务器发送请求后，服务器会保持连接打开，直到有新的数据可用或者连接超时。一旦有数据，服务器会立即返回响应给客户端。这种方式相比普通轮询减少了无效请求的次数，但仍然不是真正的服务器主动推送。
3. **`WebSocket`**：WebSocket 是一种在单个 TCP 连接上进行全双工通信的协议。它允许服务器主动向客户端推送数据，而无需客户端发送请求。WebSocket 使得客户端和服务器之间的数据交换变得更加简单和高效。
4. **`Server-Sent Events(SSE)`**：SSE 允许服务器向客户端推送更新。与 WebSocket 不同，SSE 是单向的，只能从服务器发送到客户端。SSE 基于 HTTP 协议，使用文本/事件流 MIME 类型，可以通过简单的 JavaScript API 在浏览器中实现。
5. **`HTTP/2 服务器推送`**：HTTP/2 协议支持服务器推送功能，允许服务器在客户端请求某个资源时，主动推送其他相关资源到客户端。这可以减少客户端的请求次数，提高加载速度。但需要注意的是，HTTP/2 的服务器推送需要客户端的支持，并且不是所有场景都适合使用。
6. **`Web Push Notifications`**：Web Push Notifications 是一种基于浏览器和服务器之间的长连接实现的推送通知机制。用户可以通过订阅一个站点的 Web Push 服务，即使关闭了浏览器，一旦站点发送了推送消息，用户也能收到通知。这种方式主要用于发送通知性质的消息，而不是实时数据更新。



# 服务端编程知识点

在准备后端编程面试时，你可能会遇到以下类型的问题，这些问题涵盖了后端开发的多个方面，但不涉及编程语言：

### 1.编程语言和框架:

- 你如何理解面向对象编程？
- 解释一下 MVC 模式。
- 你使用过哪些编程语言进行后端开发？

### 2.数据库:

- 数据库索引是什么，它是如何工作的？
- 什么是事务？请解释 ACID 属性。
- 你如何优化慢查询？

### 3.网络和协议:

- 什么是 RESTful API？
- HTTP 和 HTTPS 有什么区别？
- 请解释 TCP 和 UDP 的区别。

### 4.系统设计:

- 如何设计一个可扩展的系统？
- 什么是负载均衡？你会如何实现它？
- 如何处理高并发请求？

### 5.安全性:

- 什么是 SQL 注入？如何防止它？
- 解释 XSS 攻击和 CSRF 攻击。
- 如何在后端应用程序中实现认证和授权？

### 6.性能优化:

- 什么是缓存？你会如何使用它？
- 如何监控和提高服务器性能？
- 什么是内存泄漏，你如何定位和解决它？

### 7.并发和多线程:

- 解释一下进程与线程的区别。
- 什么是死锁？如何避免？
- 你如何处理并发数据访问？

### 8.微服务和分布式系统:

- 微服务架构的优缺点是什么？
- 什么是分布式事务？
- 如何保证分布式系统的数据一致性？

